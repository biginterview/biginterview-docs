# Partner API: Endpoints

## Users

A user is a unique record who shares a single account between your partner
application and Big Interview.

### Create/Update a User

<h4 class="request-type">
  <span class="label post">POST</span>
  <code>/api/users/{partner_id}</code>
</h4>

Creating and updating a User in the Big Interview system both utilize the same
endpoint. This simplifies the process of ensuring User accounts exist on our
system and reduces the functional and logical overhead on your end.

This endpoint is also capable of handling the generation and refreshing of
**Single Sign On** tokens. All responses to this endpoint will include a `token`
object as part of the response. These tokens follow the same rules outlined in
the user tokens endpoint and you can learn more about them in
[their documentation][user-tokens].

#### Params

| Param | Type | Required | Desc |
|-------|------|----------|------|
| **first_name** | `String` | No | The first name of the user. |
| **last_name** | `String` | No | The last name of the user. |
| **email** | `String` | No | The email address of the user. |

#### Request

```http
POST /api/users/{partner_id} HTTP/1.1
Host: {org}.biginterview.com
Accept: application/json
Authorization: {api-key}
```

#### Response

```json
{
  "user": {
    "partner_id": "{partner_id}",
    "token": {
      "token": "19633c68a809dda515d78bbee308012634b73f4142b4ae58d8790c7094c66417",
      "expires_at": "2016-05-28T17:16:18.817Z"
    }
  }
}
```

### Refreshing User Tokens

<h4 class="request-type">
  <span class="label put">PUT</span>
  <code>/api/users/{partner_id}/token</code>
</h4>

Tokens allow user's from your application to login to Big Interview without
the need for a password through our Single Sign On integration. That process
utilizes tokens generated by this endpoint.

This endpoint requires that a user account has already been created via the
[create/update API][user-create]. Because that endpoint establishes the user's
initial **Single Sign On** token, this endpoint simply refreshes the existing
token's expiry.

#### Token Expiration

**All tokens expire after 1 month.** The token returned from this or any
endpoint will expire at the same time that the User's Big Interview session
token does.

#### Request
```http
PUT /api/users/{partner_id}/token HTTP/1.1
Host: {org}.biginterview.com
Accept: application/json
Authorization: {api-key}
```

#### Response

```json
{
  "token": {
    "token": "19633c68a809dda515d78bbee308012634b73f4142b4ae58d8790c7094c66417",
    "expires_at": "2016-05-28T17:16:18.817Z"
  }
}
```

[user-create]: #create-or-update-a-user
[user-tokens]: #refreshing-user-tokens
